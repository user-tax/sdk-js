var a=r=>{var t;return t=r.length,t?(1===t&&([t]=r,Array.isArray(t)||(r=t)),JSON.stringify(r)):""};export default e=>{var n=async(r,t)=>{r=await fetch(e+r,{method:"POST",body:a(t),headers:{"content-type":"json"}});if(!r.ok)throw r;if(t=await r.text())return JSON.parse(t)},o=a=>new Proxy(()=>{},{get:(r,t)=>(a&&(a+="."),o(a+t)),apply:(r,t,e)=>n(a,e)});return[r=>{e=r},o("")]};