var o,v;import{unpack as d}from"msgpackr";v=r=>{var t;return t=r.length,t?(1===t&&([t]=r,Array.isArray(t)||(r=t)),JSON.stringify(r)):""},o={"content-type":""};export default(y,i)=>{var s,u=async(r,t,a)=>{var e,n=await fetch(i+t,{method:"POST",body:v(a),headers:r});return[200,304].includes(n.status)?(e=await n.arrayBuffer()).byteLength?d(new Uint8Array(e)):void 0:y(n,u,r,t,a)},e=n=>new Proxy(()=>{},{get:(r,t)=>{var a=n;return a&&(a+="."),e(a+t)},set:(r,t,a)=>((s=s||{...o})[t]=a,!0),apply:(r,t,a)=>{var e;return s?(e=s,s=void 0):e=o,u(e,n,a)}});return[e(""),r=>{i=r}]};