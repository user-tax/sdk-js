var o;import{unpack as d}from"msgpackr";o=r=>{var a;return a=r.length,a?(1===a&&([a]=r,Array.isArray(a)||(r=a)),JSON.stringify(r)):""};export default(i,...r)=>{var s,u,e,y,c={"content-type":""},a=(r,a,t)=>{y=r,Object.assign(c,{id:t,"accept-language":a||""})};return a(...r),u=async(r,a,t)=>{var e,n=await fetch(y+a,{method:"POST",body:o(t),headers:r});return[200,304].includes(n.status)?(e=await n.arrayBuffer()).byteLength?d(new Uint8Array(e)):void 0:i(n,u,r,a,t)},[(e=n=>new Proxy(()=>{},{get:(r,a)=>{var t=n;return t&&(t+="."),e(t+a)},set:(r,a,t)=>((s=s||{...c})[a]=t,!0),apply:(r,a,t)=>{var e;return s?(e=s,s=void 0):e=c,u(e,n,t)}}))(""),a]};