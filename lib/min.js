var c;import{unpack as p}from"msgpackr";c=r=>{var a;return a=r.length,a?(1===a&&([a]=r,Array.isArray(a)||(r=a)),JSON.stringify(r)):""};export default(u,y,r)=>{var i,s,e,o={"content-type":""},a=(r,a)=>{y=r,o["accept-language"]=a||""};return a(y,r),s=async(r,a,t)=>{var e,n=await fetch(y+a,{method:"POST",body:c(t),headers:r});return[200,304].includes(n.status)?(e=await n.arrayBuffer()).byteLength?p(new Uint8Array(e)):void 0:u(n,s,r,a,t)},[(e=n=>new Proxy(()=>{},{get:(r,a)=>{var t=n;return t&&(t+="."),e(t+a)},set:(r,a,t)=>((i=i||{...o})[a]=t,!0),apply:(r,a,t)=>{var e;return i?(e=i,i=void 0):e=o,s(e,n,t)}}))(""),a]};