var s,v;import{unpack as p}from"msgpackr";v=r=>{var t;return t=r.length,t?(1===t&&([t]=r,Array.isArray(t)||(r=t)),JSON.stringify(r)):""},s={"content-type":""};export default(y,i)=>{var u,o=async(r,t,a)=>{var e,n=await fetch(i+r,{method:"POST",body:v(t)},a);return[200,304].includes(n.status)?(e=await n.arrayBuffer()).byteLength?p(new Uint8Array(e)):void 0:y(n,o,a,r,t)},e=n=>new Proxy(()=>{},{get:(r,t)=>{var a=n;return a&&(a+="."),e(a+t)},set:(r,t,a)=>((u=u||{...s})[t]=a,!0),apply:(r,t,a)=>{var e;return u?(e=u,u=void 0):e=s,o(n,a,e)}});return[e(""),r=>{i=r}]};