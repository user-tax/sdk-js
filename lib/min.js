var s;import{unpack as i}from"msgpackr";s=r=>{var t;return t=r.length,t?(1===t&&([t]=r,Array.isArray(t)||(r=t)),JSON.stringify(r)):""};export default(a,e)=>{var n=async(r,t)=>{r=await fetch(e+r,{method:"POST",body:s(t),headers:{"content-type":"json"}});return[200,304].includes(r.status)?(t=await r.arrayBuffer()).byteLength?i(new Uint8Array(t)):void 0:a(r)},y=e=>new Proxy(()=>{},{get:(r,t)=>{var a=e;return a&&(a+="."),y(a+t)},apply:(r,t,a)=>n(e,a)});return[y(""),r=>{e=r}]};