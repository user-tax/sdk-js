var o,u;import{unpack as d}from"msgpackr";u=r=>{var t;return t=r.length,t?(1===t&&([t]=r,Array.isArray(t)||(r=t)),JSON.stringify(r)):""},o={"content-type":""};export default(e,n)=>{var y,i=async(r,t)=>{var a;return y?(a=y,y=void 0):a=o,r=await fetch(n+r,{method:"POST",body:u(t),headers:a}),[200,304].includes(r.status)?(t=await r.arrayBuffer()).byteLength?d(new Uint8Array(t)):void 0:e(r)},s=e=>new Proxy(()=>{},{get:(r,t)=>{var a=e;return a&&(a+="."),s(a+t)},set:(r,t,a)=>((y=y||{...o})[t]=a,!0),apply:(r,t,a)=>i(e,a)});return[s(""),r=>{n=r}]};