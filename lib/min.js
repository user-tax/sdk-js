var c;import{unpack as o}from"msgpackr";c=r=>{var e;return e=r.length,e?(1===e&&([e]=r,Array.isArray(e)||(r=e)),JSON.stringify(r)):""};export default i=>{var s,u,y={"content-type":""},r=(r,e,a)=>{u=r,r={"accept-language":e||""},a?r.id=a:delete y.id,Object.assign(y,r)},d=async(r,e,a)=>{var t,n=await fetch(u+e,{method:"POST",body:c(a),headers:r});return[200,304].includes(n.status)?(t=await n.arrayBuffer()).byteLength?o(new Uint8Array(t)):void 0:i(n,d,r,e,a)},t=n=>new Proxy(()=>{},{get:(r,e)=>{var a=n;return a&&(a+="."),t(a+e)},set:(r,e,a)=>((s=s||{...y})[e]=a,!0),apply:(r,e,a)=>{var t;return s?(t=s,s=void 0):t=y,d(t,n,a)}});return[t(""),r]};