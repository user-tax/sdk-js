var y=t=>{var r;return r=t.length,r?(1===r&&([r]=t,Array.isArray(r)||(t=r)),JSON.stringify(t)):""};export default(e,a)=>{var n=async(t,r)=>{t=await fetch(a+t,{method:"POST",body:y(r),headers:{"content-type":"json"}});return[200,304].includes(t.status)?(r=await t.text())?JSON.parse(r):void 0:e(t)},s=a=>new Proxy(()=>{},{get:(t,r)=>(a&&(a+="."),s(a+r)),apply:(t,r,e)=>n(a,e)});return[s(""),t=>{a=t}]};