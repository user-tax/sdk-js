var y=r=>{var t;return t=r.length,t?(1===t&&([t]=r,Array.isArray(t)||(r=t)),JSON.stringify(r)):""};export default(e,a)=>{var n=async(r,t)=>{r=await fetch(a+r,{method:"POST",body:y(t),headers:{"content-type":"json"}});return[200,304].includes(r.status)?(t=await r.text())?JSON.parse(t):void 0:e(r)},s=a=>new Proxy(()=>{},{get:(r,t)=>{var e=a;return e&&(e+="."),s(e+t)},apply:(r,t,e)=>n(a,e)});return[s(""),r=>{a=r}]};