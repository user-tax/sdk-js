var o;import{unpack as u}from"msgpackr";o=r=>{var a;return a=r.length,a?(1===a&&([a]=r,Array.isArray(a)||(r=a)),JSON.stringify(r)):""};export default(t,e)=>{var n=async(r,a)=>{r=await fetch(e+r,{method:"POST",body:o(a),headers:{"content-type":"json"}});return[200,304].includes(r.status)?(a=await r.arrayBuffer())?u(a):void 0:t(r)},s=e=>new Proxy(()=>{},{get:(r,a)=>{var t=e;return t&&(t+="."),s(t+a)},apply:(r,a,t)=>n(e,t)});return[s(""),r=>{e=r}]};